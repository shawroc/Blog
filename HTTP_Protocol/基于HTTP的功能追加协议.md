# 基于HTTP的功能追加协议

---
绝大多数内容引自《图解HTTP》
---

虽然HTTP协议既简单又便捷，但随着时代的发展，其功能使用上捉襟见肘的疲态已经凸显。

## 基于HTTP的协议

在建立 HTTP标准规范时，制定者主要想把HTTP 当做传输HTML 文档的协议。随着时代的发展，Web更具多样性，比如演化成在线购物网站、SNS、企业或组织内部的各种管理工具，等等。

而这些网站所追求的功能可通过Web应用和脚本程序实现。即使这些已经满足需求，但性能上却未必最优，这是因为HTTP协议上的限制以及自身性能有限。

HTTP功能上的不足可通过创建一套全新的协议来弥补。

可是基于HTTP的Web浏览器的使用环境已遍布全球，因此无法完全抛弃HTTP。有一些新协议的规则是基于HTTP的，并在此基础上添加了新的功能。

## 消除HTTP瓶颈的SPDY

Google 在2010年发布了SPDY（取自SPeeDY，发音同speedy)，其开发目标旨在解决  HTTP的性能瓶颈，缩短Web页面的加载时间（50%）。

-  SPDY - The Chromium Projects

### HTTP 的瓶颈

在Facebook 和 Twitter 等SNS 网站上，几乎能够实时观察到海量用户公开发布的内容，这也是一种乐趣。当几百、几千万的用户发布内容时，Web网站为了保存这些新增内容，在很短的时间内就会产生大量的内容更新。

为了尽可能实时地显示这些更新的内容，服务器上一有内容更新，就需要直接把那些内容反馈到客户端的界面上。虽然看起来简单，但HTTP却无法妥善地处理好这项任务。

使用HTTP 协议探知服务器上是否有内容更新，就必须频繁地从客户端到服务器端进行确认。如果服务器上没有内容更新，那么就会产生徒劳的通信。

若想在现有Web 实现所需的功能，以下这些HTTP标准就会成为瓶颈。

- 一条连接上只可发送一个请求、
- 请求只能从客户端开始。客户端不可以接收除响应以外的指令。
- 请求/响应首部未经压缩就发送。首部信息越多延迟越大。
- 发送冗长的首部。每次互相发送相同的首部造成的浪费较多。
- 可任意选择数据压缩格式。非强制压缩发送。

**Ajax的解决办法**
 